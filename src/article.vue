<script setup>
import { computed, ref} from 'vue';

const props = defineProps({
    articles: Array,
    searchQuery: String,
})

// „É™„Ç¢„É´„Çø„Ç§„É†Ê§úÁ¥¢Ê©üËÉΩ„ÅÆ„É≠„Ç∏„ÉÉ„ÇØ
// Props„ÅßÂèó„ÅëÂèñ„Å£„Åüarticles„ÇíÁõ¥Êé•‰Ωø„Çè„Å™„ÅÑ„ÅÆ„ÅØ„ÄÅProps„ÅÆÂèó„ÅëÊ∏°„Åó„Åß„ÅØ‰∏ÄÊñπÂêë„Éê„Ç§„É≥„Éá„Ç£„É≥„Ç∞„ÅåÂΩ¢Êàê„Åï„Çå„Çã„Åã„Çâ
// „Å§„Åæ„Çä„ÄÅË¶™„Åß„ÅÇ„Å£„ÅüÂ§âÊõ¥„ÅØÂ≠ê„Å´ÊµÅ„Çå„Çã„Åå„ÄÅÂ≠ê„Å´„ÅÇ„Å£„ÅüÂ§âÊõ¥„ÅØË¶™„Å´ÊµÅ„Çå„Å™„ÅÑ„Åü„ÇÅ„ÄÇ
const filerDate = computed(() => {
    let articleData = props.articles
    let searchKey = props.searchQuery
    let filerDate =[]

    for(let i in articleData){
        let article = articleData[i]
        if(article.title.indexOf(searchKey) !== -1){
            filerDate.push(article)
        }
    }
    return filerDate
})


</script>

<template>

    <!-- <h2 class="page-title">Ë®ò‰∫ã‰∏ÄË¶ß</h2> -->
    <div class="article" v-for="(article, index) in filerDate" :key="article.id">
        <h2>{{ article.title }}</h2>
        <p>{{ article.overview }}</p>
        <div class="check">
            <button @click="article.nice++">üëç {{ article.nice }}</button><br>
            <!-- a„Çø„Ç∞‰Ωø„ÅÜ„Å®ÊØéÂõû„Çµ„Éº„Éê„Éº„Å∏„É™„ÇØ„Ç®„Çπ„Éà„Åô„Çã„Åã„Çâ„Åö„Çå„Å™„ÅÑ„Åë„Å©„ÄÅÂâäÈô§„Åó„Åü„ÇÇ„ÅÆ„ÅåÂãùÊâã„Å´Êàª„Å£„Å¶„Çã -->
            <!-- <a :href="`/articles/${article.id}`">Ë©≥Á¥∞‚Üí</a> -->
            <!-- RouterLink‰Ωø„ÅÜ„Å®SPA„ÅÆÂãï„Åç„Çí„Åô„Çã„Åã„ÇâÂâäÈô§Âãï‰ΩúÂæå„Ç∫„É¨„ÅåÁîü„Åò„Çã -->
            <RouterLink class="router-link" :to="`/articles/${article.id}`">Ë©≥Á¥∞‚Üí</RouterLink>
        </div>
    </div>
    
</template>

<style>

.article {
  background-color: #fff;
  padding: 20px;
  margin-bottom: 20px;
  border-radius: 5px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.article p{
    padding-top: 2%;
}

.article h2 {
  color: #333;
  border-left: solid 3px rgb(0, 189, 126);/*Â∑¶Á∑ö*/
  margin-bottom: 5px;
}

.check{
    display:flex;
    padding-top: 2%;
}

.check button {
    padding: 0;
    font-family: inherit;
    appearance: none;
    cursor: pointer;
    background-color: transparent;
    border: none;
}

.router-link{
    padding-left: 85%;
}

</style>